{
  "filePath" : "src/test/resources/samples/sql/sample.sql",
  "language" : "sql",
  "topLevelReferences" : { },
  "topLevelCalls" : { },
  "createTables" : [ {
    "tableName" : "users",
    "ifNotExists" : false,
    "columns" : [ {
      "name" : "id",
      "type" : "INT",
      "nullable" : true,
      "constraints" : [ "PRIMARY KEY" ]
    }, {
      "name" : "username",
      "type" : "VARCHAR(50)",
      "nullable" : false,
      "constraints" : [ "NOT NULL" ]
    }, {
      "name" : "email",
      "type" : "VARCHAR(100)",
      "nullable" : true,
      "constraints" : [ "UNIQUE" ]
    }, {
      "name" : "created_at",
      "type" : "TIMESTAMP",
      "nullable" : true
    } ],
    "primaryKeys" : [ "id" ]
  }, {
    "tableName" : "orders",
    "ifNotExists" : false,
    "columns" : [ {
      "name" : "order_id",
      "type" : "INT",
      "nullable" : true,
      "constraints" : [ "PRIMARY KEY" ]
    }, {
      "name" : "user_id",
      "type" : "INT",
      "nullable" : false,
      "constraints" : [ "NOT NULL" ]
    }, {
      "name" : "total_amount",
      "type" : "DECIMAL(10,2)",
      "nullable" : true
    }, {
      "name" : "order_date",
      "type" : "DATE",
      "nullable" : true
    } ],
    "primaryKeys" : [ "order_id" ],
    "foreignKeys" : [ {
      "columns" : [ "user_id" ],
      "referencedTable" : "users",
      "referencedColumns" : [ "id" ]
    } ]
  } ],
  "createViews" : [ {
    "viewName" : "active_users",
    "orReplace" : false,
    "references" : {
      "relations" : [ "users" ]
    }
  } ],
  "createIndexes" : [ {
    "indexName" : "idx_username",
    "tableName" : "users",
    "unique" : false,
    "columns" : [ "username" ]
  } ],
  "createProcedures" : [ {
    "procedureName" : "GetUserById",
    "orReplace" : false,
    "parameters" : [ {
      "name" : "userId",
      "type" : "INT",
      "direction" : "IN"
    } ],
    "references" : {
      "relations" : [ "users" ]
    },
    "calls" : { }
  } ],
  "createFunctions" : [ {
    "functionName" : "CalculateTotal",
    "orReplace" : false,
    "parameters" : [ {
      "name" : "orderId",
      "type" : "INT"
    } ],
    "returnType" : "DECIMAL(10,2)",
    "references" : {
      "relations" : [ "orders" ]
    },
    "calls" : { }
  } ]
}