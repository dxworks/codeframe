{
  "filePath" : "src/test/resources/samples/sql/alter_tables_views.sql",
  "language" : "sql",
  "topLevelReferences" : { },
  "topLevelCalls" : { },
  "alterTables" : [ {
    "tableName" : "users",
    "schema" : "public",
    "operationType" : "ADD_COLUMN",
    "addedColumns" : [ {
      "name" : "last_login",
      "type" : "TIMESTAMP",
      "nullable" : true
    } ]
  }, {
    "tableName" : "orders",
    "schema" : "sales",
    "operationType" : "ADD_CONSTRAINT",
    "addedConstraints" : [ "CONSTRAINT pk_orders PRIMARY KEY (order_id, user_id)" ]
  }, {
    "tableName" : "orders",
    "schema" : "sales",
    "operationType" : "ADD_CONSTRAINT",
    "addedConstraints" : [ "CONSTRAINT fk_orders_user FOREIGN KEY (user_id) REFERENCES public.users(id)" ]
  }, {
    "tableName" : "orders",
    "schema" : "sales",
    "operationType" : "DROP_COLUMN",
    "droppedColumns" : [ "total_amount" ]
  } ],
  "alterViews" : [ {
    "viewName" : "active_users",
    "schema" : "reporting",
    "references" : {
      "relations" : [ "public.users" ]
    }
  } ]
}