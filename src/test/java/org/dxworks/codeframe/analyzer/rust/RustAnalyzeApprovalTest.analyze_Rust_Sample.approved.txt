{
  "filePath" : "src/test/resources/samples/rust/Sample.rs",
  "language" : "rust",
  "types" : [ {
    "kind" : "struct",
    "name" : "UserRepository",
    "visibility" : "pub",
    "fields" : [ {
      "name" : "db",
      "type" : "Database"
    }, {
      "name" : "cache",
      "type" : "HashMap<u32, User>"
    } ]
  }, {
    "kind" : "struct",
    "name" : "User",
    "visibility" : "pub",
    "annotations" : [ "#[derive(Clone, Debug)]" ],
    "fields" : [ {
      "name" : "id",
      "type" : "u32",
      "visibility" : "pub",
      "modifiers" : [ "pub" ]
    }, {
      "name" : "name",
      "type" : "String",
      "visibility" : "pub",
      "modifiers" : [ "pub" ]
    }, {
      "name" : "email",
      "type" : "String",
      "visibility" : "pub",
      "modifiers" : [ "pub" ]
    } ]
  }, {
    "kind" : "struct",
    "name" : "Database",
    "visibility" : "pub",
    "fields" : [ {
      "name" : "connection",
      "type" : "String"
    } ]
  }, {
    "kind" : "impl",
    "name" : "UserRepository",
    "methods" : [ {
      "name" : "new",
      "returnType" : "Self",
      "visibility" : "pub",
      "modifiers" : [ "pub" ],
      "parameters" : [ {
        "name" : "db",
        "type" : "Database"
      } ],
      "methodCalls" : [ {
        "methodName" : "new",
        "objectType" : "HashMap",
        "callCount" : 1,
        "parameterCount" : 0
      } ]
    }, {
      "name" : "find_by_id",
      "returnType" : "Option<User>",
      "visibility" : "pub",
      "modifiers" : [ "pub" ],
      "parameters" : [ {
        "name" : "self"
      }, {
        "name" : "id",
        "type" : "u32"
      } ],
      "localVariables" : [ "user" ],
      "methodCalls" : [ {
        "methodName" : "Some",
        "callCount" : 2,
        "parameterCount" : 1
      }, {
        "methodName" : "clone",
        "objectName" : "user",
        "callCount" : 2,
        "parameterCount" : 0
      }, {
        "methodName" : "get",
        "callCount" : 1,
        "parameterCount" : 1
      }, {
        "methodName" : "insert",
        "callCount" : 1,
        "parameterCount" : 2
      }, {
        "methodName" : "query_user",
        "callCount" : 1,
        "parameterCount" : 1
      } ]
    }, {
      "name" : "save",
      "returnType" : "Result<(), String>",
      "visibility" : "pub",
      "modifiers" : [ "pub" ],
      "parameters" : [ {
        "name" : "self"
      }, {
        "name" : "user",
        "type" : "User"
      } ],
      "methodCalls" : [ {
        "methodName" : "Ok",
        "callCount" : 1,
        "parameterCount" : 1
      }, {
        "methodName" : "execute_update",
        "callCount" : 1,
        "parameterCount" : 1
      }, {
        "methodName" : "insert",
        "callCount" : 1,
        "parameterCount" : 2
      } ]
    }, {
      "name" : "clear_cache",
      "parameters" : [ {
        "name" : "self"
      } ],
      "methodCalls" : [ {
        "methodName" : "clear",
        "callCount" : 1,
        "parameterCount" : 0
      } ]
    } ]
  }, {
    "kind" : "impl",
    "name" : "User",
    "methods" : [ {
      "name" : "new",
      "returnType" : "Self",
      "visibility" : "pub",
      "modifiers" : [ "pub" ],
      "parameters" : [ {
        "name" : "id",
        "type" : "u32"
      }, {
        "name" : "name",
        "type" : "String"
      }, {
        "name" : "email",
        "type" : "String"
      } ]
    }, {
      "name" : "display_name",
      "returnType" : "String",
      "visibility" : "pub",
      "modifiers" : [ "pub" ],
      "parameters" : [ {
        "name" : "self"
      } ],
      "methodCalls" : [ {
        "methodName" : "format!",
        "callCount" : 1,
        "parameterCount" : 3
      } ]
    } ]
  }, {
    "kind" : "impl",
    "name" : "Database",
    "methods" : [ {
      "name" : "query_user",
      "returnType" : "Option<User>",
      "visibility" : "pub",
      "modifiers" : [ "pub" ],
      "parameters" : [ {
        "name" : "self"
      }, {
        "name" : "id",
        "type" : "u32"
      } ],
      "methodCalls" : [ {
        "methodName" : "println!",
        "callCount" : 1,
        "parameterCount" : 2
      } ]
    }, {
      "name" : "execute_update",
      "returnType" : "Result<(), String>",
      "visibility" : "pub",
      "modifiers" : [ "pub" ],
      "parameters" : [ {
        "name" : "self"
      }, {
        "name" : "user",
        "type" : "&User"
      } ],
      "methodCalls" : [ {
        "methodName" : "Ok",
        "callCount" : 1,
        "parameterCount" : 1
      }, {
        "methodName" : "println!",
        "callCount" : 1,
        "parameterCount" : 2
      } ]
    } ]
  } ],
  "methods" : [ {
    "name" : "create_default_user",
    "returnType" : "User",
    "visibility" : "pub",
    "modifiers" : [ "pub" ],
    "methodCalls" : [ {
      "methodName" : "from",
      "objectType" : "String",
      "callCount" : 2,
      "parameterCount" : 1
    }, {
      "methodName" : "new",
      "objectType" : "User",
      "callCount" : 1,
      "parameterCount" : 3
    } ]
  } ],
  "imports" : [ "use std::collections::HashMap;", "use std::fmt::Display;" ]
}