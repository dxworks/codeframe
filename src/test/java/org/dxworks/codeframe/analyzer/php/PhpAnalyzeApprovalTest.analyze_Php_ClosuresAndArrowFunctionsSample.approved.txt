{
  "filePath" : "src/test/resources/samples/php/ClosuresAndArrowFunctionsSample.php",
  "language" : "php",
  "types" : [ {
    "kind" : "class",
    "name" : "Calculator",
    "visibility" : "public",
    "fields" : [ {
      "name" : "operations",
      "type" : "array",
      "visibility" : "private",
      "modifiers" : [ "private" ]
    }, {
      "name" : "logger",
      "type" : "?callable",
      "visibility" : "private",
      "modifiers" : [ "private" ]
    } ],
    "methods" : [ {
      "name" : "__construct",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "logger",
        "type" : "?callable"
      } ],
      "methodCalls" : [ {
        "methodName" : "initializeOperations",
        "objectName" : "this",
        "callCount" : 1,
        "parameterCount" : 0
      } ]
    }, {
      "name" : "initializeOperations",
      "returnType" : "void",
      "visibility" : "private",
      "modifiers" : [ "private" ]
    }, {
      "name" : "registerOperation",
      "returnType" : "void",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "name",
        "type" : "string"
      }, {
        "name" : "operation",
        "type" : "callable"
      } ]
    }, {
      "name" : "execute",
      "returnType" : "float",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "operation",
        "type" : "string"
      }, {
        "name" : "a",
        "type" : "float"
      }, {
        "name" : "b",
        "type" : "float"
      } ],
      "localVariables" : [ "result" ],
      "methodCalls" : [ {
        "methodName" : "isset",
        "callCount" : 1,
        "parameterCount" : 1
      } ]
    }, {
      "name" : "setLogger",
      "returnType" : "void",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "logger",
        "type" : "callable"
      } ]
    }, {
      "name" : "getOperationNames",
      "returnType" : "array",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "methodCalls" : [ {
        "methodName" : "array_keys",
        "callCount" : 1,
        "parameterCount" : 1
      } ]
    } ]
  }, {
    "kind" : "class",
    "name" : "Collection",
    "visibility" : "public",
    "fields" : [ {
      "name" : "items",
      "type" : "array",
      "visibility" : "private",
      "modifiers" : [ "private" ]
    } ],
    "methods" : [ {
      "name" : "__construct",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "items",
        "type" : "array"
      } ]
    }, {
      "name" : "map",
      "returnType" : "self",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "callback",
        "type" : "callable"
      } ],
      "localVariables" : [ "mapped" ],
      "methodCalls" : [ {
        "methodName" : "array_map",
        "callCount" : 1,
        "parameterCount" : 2
      } ]
    }, {
      "name" : "filter",
      "returnType" : "self",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "predicate",
        "type" : "callable"
      } ],
      "localVariables" : [ "filtered" ],
      "methodCalls" : [ {
        "methodName" : "array_filter",
        "callCount" : 1,
        "parameterCount" : 2
      }, {
        "methodName" : "array_values",
        "callCount" : 1,
        "parameterCount" : 1
      } ]
    }, {
      "name" : "reduce",
      "returnType" : "mixed",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "callback",
        "type" : "callable"
      }, {
        "name" : "initial",
        "type" : "mixed"
      } ],
      "methodCalls" : [ {
        "methodName" : "array_reduce",
        "callCount" : 1,
        "parameterCount" : 3
      } ]
    }, {
      "name" : "each",
      "returnType" : "void",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "callback",
        "type" : "callable"
      } ]
    }, {
      "name" : "find",
      "returnType" : "mixed",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "predicate",
        "type" : "callable"
      } ]
    }, {
      "name" : "sort",
      "returnType" : "self",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "comparator",
        "type" : "callable"
      } ],
      "localVariables" : [ "sorted" ],
      "methodCalls" : [ {
        "methodName" : "usort",
        "callCount" : 1,
        "parameterCount" : 2
      } ]
    }, {
      "name" : "toArray",
      "returnType" : "array",
      "visibility" : "public",
      "modifiers" : [ "public" ]
    }, {
      "name" : "count",
      "returnType" : "int",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "methodCalls" : [ {
        "methodName" : "count",
        "callCount" : 1,
        "parameterCount" : 1
      } ]
    } ]
  }, {
    "kind" : "class",
    "name" : "EventEmitter",
    "visibility" : "public",
    "fields" : [ {
      "name" : "listeners",
      "type" : "array",
      "visibility" : "private",
      "modifiers" : [ "private" ]
    } ],
    "methods" : [ {
      "name" : "on",
      "returnType" : "void",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "event",
        "type" : "string"
      }, {
        "name" : "listener",
        "type" : "callable"
      } ],
      "methodCalls" : [ {
        "methodName" : "isset",
        "callCount" : 1,
        "parameterCount" : 1
      } ]
    }, {
      "name" : "emit",
      "returnType" : "void",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "event",
        "type" : "string"
      }, {
        "name" : "...args",
        "type" : "mixed"
      } ],
      "methodCalls" : [ {
        "methodName" : "isset",
        "callCount" : 1,
        "parameterCount" : 1
      } ]
    }, {
      "name" : "once",
      "returnType" : "void",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "event",
        "type" : "string"
      }, {
        "name" : "listener",
        "type" : "callable"
      } ],
      "localVariables" : [ "wrapper" ],
      "methodCalls" : [ {
        "methodName" : "off",
        "objectName" : "this",
        "callCount" : 1,
        "parameterCount" : 2
      }, {
        "methodName" : "on",
        "objectName" : "this",
        "callCount" : 1,
        "parameterCount" : 2
      } ]
    }, {
      "name" : "off",
      "returnType" : "void",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "event",
        "type" : "string"
      }, {
        "name" : "listener",
        "type" : "callable"
      } ],
      "methodCalls" : [ {
        "methodName" : "array_filter",
        "callCount" : 1,
        "parameterCount" : 2
      }, {
        "methodName" : "isset",
        "callCount" : 1,
        "parameterCount" : 1
      } ]
    }, {
      "name" : "removeAllListeners",
      "returnType" : "void",
      "visibility" : "public",
      "modifiers" : [ "public" ],
      "parameters" : [ {
        "name" : "event",
        "type" : "string"
      } ]
    } ]
  }, {
    "kind" : "class",
    "name" : "FunctionUtils",
    "visibility" : "public",
    "methods" : [ {
      "name" : "compose",
      "returnType" : "callable",
      "visibility" : "public",
      "modifiers" : [ "public", "static" ],
      "parameters" : [ {
        "name" : "...functions",
        "type" : "callable"
      } ],
      "methodCalls" : [ {
        "methodName" : "array_reduce",
        "callCount" : 1,
        "parameterCount" : 3
      }, {
        "methodName" : "array_reverse",
        "callCount" : 1,
        "parameterCount" : 1
      } ]
    }, {
      "name" : "pipe",
      "returnType" : "callable",
      "visibility" : "public",
      "modifiers" : [ "public", "static" ],
      "parameters" : [ {
        "name" : "...functions",
        "type" : "callable"
      } ],
      "methodCalls" : [ {
        "methodName" : "array_reduce",
        "callCount" : 1,
        "parameterCount" : 3
      } ]
    }, {
      "name" : "curry",
      "returnType" : "callable",
      "visibility" : "public",
      "modifiers" : [ "public", "static" ],
      "parameters" : [ {
        "name" : "fn",
        "type" : "callable"
      }, {
        "name" : "arity",
        "type" : "int"
      } ],
      "methodCalls" : [ {
        "methodName" : "count",
        "callCount" : 2,
        "parameterCount" : 1
      }, {
        "methodName" : "curry",
        "objectType" : "self",
        "callCount" : 1,
        "parameterCount" : 2
      } ]
    }, {
      "name" : "memoize",
      "returnType" : "callable",
      "visibility" : "public",
      "modifiers" : [ "public", "static" ],
      "parameters" : [ {
        "name" : "fn",
        "type" : "callable"
      } ],
      "localVariables" : [ "cache", "key" ],
      "methodCalls" : [ {
        "methodName" : "isset",
        "callCount" : 1,
        "parameterCount" : 1
      }, {
        "methodName" : "serialize",
        "callCount" : 1,
        "parameterCount" : 1
      } ]
    }, {
      "name" : "debounce",
      "returnType" : "callable",
      "visibility" : "public",
      "modifiers" : [ "public", "static" ],
      "parameters" : [ {
        "name" : "fn",
        "type" : "callable"
      }, {
        "name" : "delay",
        "type" : "int"
      } ],
      "localVariables" : [ "lastCall", "now" ],
      "methodCalls" : [ {
        "methodName" : "microtime",
        "callCount" : 1,
        "parameterCount" : 1
      } ]
    } ]
  } ],
  "methods" : [ {
    "name" : "createCounter",
    "returnType" : "callable",
    "parameters" : [ {
      "name" : "start",
      "type" : "int"
    } ],
    "localVariables" : [ "count" ]
  }, {
    "name" : "createFormatter",
    "returnType" : "callable",
    "parameters" : [ {
      "name" : "prefix",
      "type" : "string"
    }, {
      "name" : "suffix",
      "type" : "string"
    } ]
  }, {
    "name" : "applyToAll",
    "returnType" : "array",
    "parameters" : [ {
      "name" : "items",
      "type" : "array"
    }, {
      "name" : "fn",
      "type" : "callable"
    } ],
    "methodCalls" : [ {
      "methodName" : "array_map",
      "callCount" : 1,
      "parameterCount" : 2
    } ]
  }, {
    "name" : "filterBy",
    "returnType" : "array",
    "parameters" : [ {
      "name" : "items",
      "type" : "array"
    }, {
      "name" : "predicate",
      "type" : "callable"
    } ],
    "methodCalls" : [ {
      "methodName" : "array_filter",
      "callCount" : 1,
      "parameterCount" : 2
    }, {
      "methodName" : "array_values",
      "callCount" : 1,
      "parameterCount" : 1
    } ]
  } ],
  "fields" : [ {
    "name" : "MULTIPLIER",
    "type" : "int",
    "modifiers" : [ "const" ]
  }, {
    "name" : "DEFAULT_PREFIX",
    "type" : "string",
    "modifiers" : [ "const" ]
  } ],
  "methodCalls" : [ {
    "methodName" : "error_log",
    "callCount" : 1,
    "parameterCount" : 1
  }, {
    "methodName" : "set_error_handler",
    "callCount" : 1,
    "parameterCount" : 1
  } ],
  "imports" : [ "namespace App\\Closures;" ]
}