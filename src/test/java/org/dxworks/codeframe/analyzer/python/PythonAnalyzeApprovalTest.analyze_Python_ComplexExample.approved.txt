{
  "filePath" : "src/test/resources/samples/python/complex_example.py",
  "language" : "python",
  "types" : [ {
    "kind" : "class",
    "name" : "Config",
    "visibility" : "public",
    "annotations" : [ "@dataclass(frozen=True)" ],
    "fields" : [ {
      "name" : "name",
      "type" : "str",
      "visibility" : "public"
    }, {
      "name" : "version",
      "type" : "str",
      "visibility" : "public"
    }, {
      "name" : "debug",
      "type" : "bool",
      "visibility" : "public"
    }, {
      "name" : "metadata",
      "type" : "Dict[str, Any]",
      "visibility" : "public"
    } ]
  }, {
    "kind" : "class",
    "name" : "Repository",
    "visibility" : "public",
    "extendsType" : "abc.ABC",
    "methods" : [ {
      "name" : "__init__",
      "returnType" : "None",
      "visibility" : "public",
      "parameters" : [ {
        "name" : "config",
        "type" : "Config"
      } ],
      "methodCalls" : [ {
        "methodName" : "utcnow",
        "objectName" : "datetime",
        "callCount" : 1
      } ]
    }, {
      "name" : "put",
      "returnType" : "None",
      "visibility" : "public",
      "parameters" : [ {
        "name" : "key",
        "type" : "str"
      }, {
        "name" : "value",
        "type" : "Any"
      } ],
      "localVariables" : [ "key_n" ],
      "methodCalls" : [ {
        "methodName" : "_normalize_key",
        "objectType" : "Repository",
        "objectName" : "self",
        "callCount" : 1
      }, {
        "methodName" : "_put_impl",
        "objectType" : "Repository",
        "objectName" : "self",
        "callCount" : 1
      }, {
        "methodName" : "_validate",
        "objectType" : "Repository",
        "objectName" : "self",
        "callCount" : 1
      } ]
    }, {
      "name" : "get",
      "returnType" : "Optional[Any]",
      "visibility" : "public",
      "parameters" : [ {
        "name" : "key",
        "type" : "str"
      } ],
      "localVariables" : [ "key_n" ],
      "methodCalls" : [ {
        "methodName" : "_get_impl",
        "objectType" : "Repository",
        "objectName" : "self",
        "callCount" : 1
      }, {
        "methodName" : "_normalize_key",
        "objectType" : "Repository",
        "objectName" : "self",
        "callCount" : 1
      } ]
    }, {
      "name" : "delete",
      "returnType" : "bool",
      "visibility" : "public",
      "parameters" : [ {
        "name" : "key",
        "type" : "str"
      } ],
      "localVariables" : [ "key_n" ],
      "methodCalls" : [ {
        "methodName" : "_delete_impl",
        "objectType" : "Repository",
        "objectName" : "self",
        "callCount" : 1
      }, {
        "methodName" : "_normalize_key",
        "objectType" : "Repository",
        "objectName" : "self",
        "callCount" : 1
      } ]
    }, {
      "name" : "keys",
      "returnType" : "List[str]",
      "visibility" : "public",
      "methodCalls" : [ {
        "methodName" : "_keys_impl",
        "objectType" : "Repository",
        "objectName" : "self",
        "callCount" : 1
      }, {
        "methodName" : "expect",
        "callCount" : 1
      }, {
        "methodName" : "list",
        "callCount" : 1
      }, {
        "methodName" : "parse_float",
        "callCount" : 1
      }, {
        "methodName" : "to_be_greater_than",
        "callCount" : 1
      } ]
    }, {
      "name" : "_normalize_key",
      "returnType" : "str",
      "visibility" : "protected",
      "parameters" : [ {
        "name" : "key",
        "type" : "str"
      } ],
      "methodCalls" : [ {
        "methodName" : "lower",
        "callCount" : 1
      }, {
        "methodName" : "strip",
        "objectName" : "key",
        "callCount" : 1
      } ]
    }, {
      "name" : "_validate",
      "returnType" : "None",
      "visibility" : "protected",
      "parameters" : [ {
        "name" : "key",
        "type" : "str"
      }, {
        "name" : "value",
        "type" : "Any"
      } ],
      "methodCalls" : [ {
        "methodName" : "ValueError",
        "callCount" : 2
      } ]
    }, {
      "name" : "_put_impl",
      "returnType" : "None",
      "visibility" : "protected",
      "annotations" : [ "@abc.abstractmethod" ],
      "parameters" : [ {
        "name" : "key",
        "type" : "str"
      }, {
        "name" : "value",
        "type" : "Any"
      } ]
    }, {
      "name" : "_get_impl",
      "returnType" : "Optional[Any]",
      "visibility" : "protected",
      "annotations" : [ "@abc.abstractmethod" ],
      "parameters" : [ {
        "name" : "key",
        "type" : "str"
      } ]
    }, {
      "name" : "_delete_impl",
      "returnType" : "bool",
      "visibility" : "protected",
      "annotations" : [ "@abc.abstractmethod" ],
      "parameters" : [ {
        "name" : "key",
        "type" : "str"
      } ]
    }, {
      "name" : "_keys_impl",
      "returnType" : "Iterable[str]",
      "visibility" : "protected",
      "annotations" : [ "@abc.abstractmethod" ]
    } ]
  }, {
    "kind" : "class",
    "name" : "InMemoryRepository",
    "visibility" : "public",
    "extendsType" : "Repository",
    "methods" : [ {
      "name" : "__init__",
      "returnType" : "None",
      "visibility" : "public",
      "parameters" : [ {
        "name" : "config",
        "type" : "Config"
      } ],
      "methodCalls" : [ {
        "methodName" : "__init__",
        "callCount" : 1
      }, {
        "methodName" : "super",
        "callCount" : 1
      } ]
    }, {
      "name" : "upsert",
      "returnType" : "None",
      "visibility" : "public",
      "parameters" : [ {
        "name" : "key",
        "type" : "str"
      }, {
        "name" : "value",
        "type" : "Any"
      } ],
      "methodCalls" : [ {
        "methodName" : "put",
        "objectType" : "InMemoryRepository",
        "objectName" : "self",
        "callCount" : 1
      } ]
    }, {
      "name" : "_put_impl",
      "returnType" : "None",
      "visibility" : "protected",
      "parameters" : [ {
        "name" : "key",
        "type" : "str"
      }, {
        "name" : "value",
        "type" : "Any"
      } ],
      "methodCalls" : [ {
        "methodName" : "print",
        "callCount" : 1
      } ]
    }, {
      "name" : "_get_impl",
      "returnType" : "Optional[Any]",
      "visibility" : "protected",
      "parameters" : [ {
        "name" : "key",
        "type" : "str"
      } ],
      "methodCalls" : [ {
        "methodName" : "get",
        "objectName" : "self.__store",
        "callCount" : 1
      } ]
    }, {
      "name" : "_delete_impl",
      "returnType" : "bool",
      "visibility" : "protected",
      "parameters" : [ {
        "name" : "key",
        "type" : "str"
      } ],
      "localVariables" : [ "existed" ],
      "methodCalls" : [ {
        "methodName" : "pop",
        "objectName" : "self.__store",
        "callCount" : 1
      }, {
        "methodName" : "print",
        "callCount" : 1
      } ]
    }, {
      "name" : "_keys_impl",
      "returnType" : "Iterable[str]",
      "visibility" : "protected",
      "methodCalls" : [ {
        "methodName" : "keys",
        "objectName" : "self.__store",
        "callCount" : 1
      } ]
    } ]
  }, {
    "kind" : "class",
    "name" : "ResourceManager",
    "visibility" : "public",
    "methods" : [ {
      "name" : "__init__",
      "returnType" : "None",
      "visibility" : "public",
      "parameters" : [ {
        "name" : "label",
        "type" : "str"
      } ]
    }, {
      "name" : "__enter__",
      "returnType" : "\"ResourceManager\"",
      "visibility" : "public",
      "methodCalls" : [ {
        "methodName" : "print",
        "callCount" : 1
      } ]
    }, {
      "name" : "__exit__",
      "returnType" : "None",
      "visibility" : "public",
      "parameters" : [ {
        "name" : "exc_type"
      }, {
        "name" : "exc"
      }, {
        "name" : "tb"
      } ],
      "methodCalls" : [ {
        "methodName" : "print",
        "callCount" : 1
      } ]
    }, {
      "name" : "is_active",
      "returnType" : "bool",
      "visibility" : "public"
    }, {
      "name" : "_tag",
      "returnType" : "str",
      "visibility" : "protected"
    } ]
  } ],
  "methods" : [ {
    "name" : "batched",
    "returnType" : "Generator[List[Any], None, None]",
    "visibility" : "public",
    "parameters" : [ {
      "name" : "iterable",
      "type" : "Iterable[Any]"
    }, {
      "name" : "size",
      "type" : "int"
    } ],
    "localVariables" : [ "batch" ],
    "methodCalls" : [ {
      "methodName" : "ValueError",
      "callCount" : 1
    }, {
      "methodName" : "append",
      "objectName" : "batch",
      "callCount" : 1
    }, {
      "methodName" : "len",
      "callCount" : 1
    } ]
  }, {
    "name" : "slugify",
    "returnType" : "str",
    "visibility" : "public",
    "parameters" : [ {
      "name" : "text",
      "type" : "str"
    } ],
    "localVariables" : [ "text" ],
    "methodCalls" : [ {
      "methodName" : "lower",
      "callCount" : 1
    }, {
      "methodName" : "strip",
      "callCount" : 1
    }, {
      "methodName" : "strip",
      "objectName" : "text",
      "callCount" : 1
    }, {
      "methodName" : "sub",
      "objectName" : "re",
      "callCount" : 3
    } ]
  }, {
    "name" : "safe_divide",
    "returnType" : "float",
    "visibility" : "public",
    "parameters" : [ {
      "name" : "a",
      "type" : "float"
    }, {
      "name" : "b",
      "type" : "float"
    } ]
  }, {
    "name" : "fetch_data_async",
    "returnType" : "List[int]",
    "visibility" : "public",
    "modifiers" : [ "async" ],
    "parameters" : [ {
      "name" : "n",
      "type" : "int"
    }, {
      "name" : "delay",
      "type" : "float"
    } ],
    "methodCalls" : [ {
      "methodName" : "list",
      "callCount" : 1
    }, {
      "methodName" : "range",
      "callCount" : 1
    }, {
      "methodName" : "sleep",
      "objectName" : "asyncio",
      "callCount" : 1
    } ]
  }, {
    "name" : "_demo",
    "visibility" : "protected",
    "modifiers" : [ "async" ],
    "methodCalls" : [ {
      "methodName" : "fetch_data_async",
      "callCount" : 1
    }, {
      "methodName" : "print",
      "callCount" : 1
    } ]
  } ],
  "fields" : [ {
    "name" : "MAX_RETRIES",
    "type" : "int",
    "visibility" : "public"
  }, {
    "name" : "DEFAULT_TIMEOUT",
    "type" : "float",
    "visibility" : "public"
  }, {
    "name" : "APP_NAME",
    "type" : "str",
    "visibility" : "public"
  }, {
    "name" : "VERSION",
    "type" : "str",
    "visibility" : "public"
  }, {
    "name" : "logger",
    "visibility" : "public"
  } ],
  "methodCalls" : [ {
    "methodName" : "basicConfig",
    "objectName" : "logging",
    "callCount" : 1
  }, {
    "methodName" : "getLogger",
    "objectName" : "logging",
    "callCount" : 1
  } ],
  "imports" : [ "from __future__ import annotations", "import abc", "import asyncio", "import contextlib", "import logging", "import math", "import re", "from dataclasses import dataclass, field", "from datetime import datetime", "from typing import Any, Dict, Generator, Iterable, List, Optional, Tuple" ]
}